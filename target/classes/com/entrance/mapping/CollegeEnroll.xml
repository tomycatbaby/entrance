<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.entrance.dao.CollegeEnrollDao">

	<resultMap type="com.entrance.bean.CollegeEnroll" id="CollegeEnrollResult">
		<id property="id" column="ID" jdbcType="INTEGER" />
		<result property="college" column="COLLEGE" jdbcType="VARCHAR" />
		<result property="areas" column="AREAS" jdbcType="VARCHAR" />
		<result property="subject" column="SUBJECT" jdbcType="VARCHAR" />
		<result property="average" column="AVERAGE" jdbcType="INTEGER" />
		<result property="highest_score" column="HIGHEST_SCORE"
			jdbcType="INTEGER" />
		<result property="lowest_score" column="LOWEST_SCORE" jdbcType="INTEGER" />
		<result property="enrollment" column="ENROLLMENT" jdbcType="INTEGER" />
		<result property="control_line" column="CONTROL_LINE" jdbcType="INTEGER" />
		<result property="batch" column="BATCH" jdbcType="VARCHAR" />
		<result property="year" column="YEAR" jdbcType="INTEGER" />
	</resultMap>
	<!-- 根据学校，科目，地区查找相关用户 -->
	<select id="selectCollegeEnroll" resultMap="CollegeEnrollResult">
		SELECT
		ID,COLLEGE,AREAS,SUBJECT,AVERAGE,HIGHEST_SCORE,LOWEST_SCORE,ENROLLMENT,CONTROL_LINE,BATCH,YEAR
		FROM college_enroll WHERE college= #{arg0} and areas=#{arg1} and
		subject=#{arg2}
	</select>

	<select id="selectBy" resultMap="CollegeEnrollResult">
		SELECT
		ID,COLLEGE,AREAS,SUBJECT,AVERAGE,HIGHEST_SCORE,LOWEST_SCORE,ENROLLMENT,CONTROL_LINE,BATCH,YEAR
		FROM college_enroll WHERE college= #{arg0} and areas=#{arg1} and
		subject=#{arg2}
		<if test="arg3 !=null and arg3!=''">
			and batch=#{arg3}
		</if>
		<if test="arg4 !=null and arg4!=''">
			and year=#{arg4}
		</if>

	</select>

</mapper>